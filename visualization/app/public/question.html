<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Energy Consumption</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

</head>

<style>
.jumbotron{
  background: #b3ffb3;
}
img{
  height: 30%;
  width:30%;
}
  .input-color {
      position: relative;
  }
  .input-color input {
      padding-left: 20px;
  }
  .input-color .color-box {
      width: 10px;
      height: 10px;
      display: inline-block;
      background-color: #ccc;
      position: absolute;
      left: 5px;
      top: 5px;
  }

</style>
<header>
  <div class="jumbotron">
    <h1 class="display-4 center">What's your energy consumption?</h1>
  </div>
</header>
<body>

		<div class="container">
			<h2 class="center survey">Survey Questions</h2>
			<hr>

		  <div class="row">
    		<form class="col s12" id="myForm">

          <div class="row">
            <h5>How many refrigerators are plugged-in and turned on in your home?(0 for none)</h5>

            <div class="col s12">
              <div class="input-field inline">
                <input id="fridgenum" type="text" class="validate">
           </div>
         </div>
       </div>

       <div class="row">
         <h5>How many stoves are used in your home?(0 for none)</h5>

         <div class="col s12">
           <div class="input-field inline">
             <input id="stovenum" type="text" class="validate">
        </div>
      </div>
    </div>

				  <div class="row">
      			<h5>What fuel does your stove use?</h5>
      		  <div class="col s12">
					    <select class="chosenone" id="fuel">
					      <option value="" disabled selected>Choose your option</option>
					      <option value="Electricity">Electricity </option>
					      <option value="Natural Gas">Natural Gas</option>
					      <option value="Propane">Propane</option>
					    </select>
					  </div>
				  </div>

          <div class="row">
            <div class="col s12">
              <h5>How often do you cook at home on a weekly base?(0 for none)</h5>
              <div class="input-field inline">
                <input id="cooknum" type="text" class="validate">
           </div>
         </div>
       </div>

       <div class="row">
         <div class="col s12">
           <h5>How long does it typically take you to cook?</h5>
           <div class="input-field inline">
             <input id="cooktime" type="text" class="validate">
             <label for="cooktime">Min</label>

        </div>
      </div>
    </div>

       <div class="row">
         <div class="col s12">
          <h5>how many ovens do you have in your house?(0 for none)</h5>
           <div class="input-field inline">
             <input id="ovennum" type="text" class="validate">
        </div>
      </div>
    </div>


			    <button class="btn-large waves-effect waves-light" type="submit" name="action" id="submit">Submit
    				<i class="material-icons right">send</i>
  				</button>
    		</form>
  		</div>
		</div>

<!--modal---->


<!-- <div id="modal1" class="modal">
  	<div class="modal-header">
  	</div>
    <div class="modal-content center-align">
    	<h3>Your energy consuption bar consists of  </h3>
    	<hr>
      <h4 id="redblock">Red Blocks : </h4>
      <h4 id="whiteblock">White Blocks : </h4>
    </div>
  </div> -->


  <!-- Modal Trigger -->

 <!-- Modal Structure -->
 <div id="modal1" class="modal">
   <div class="modal-content">
     <h4>Your Engergy Bar consists of :</h4>
     <div class="input-color">
           <div class="color-box" style="background-color: #FF850A;"></div>
           <div class = "legend" style = "float: right"> 5 Orange </div>
       </div>
     </br>

     <div class="input-color">
       <div class = "legend" style = "float: right"> 3 Navy </div>
           <div class="color-box" style="background-color: navy;"></div>
       </div>
     </br>

     <div class="input-color">
       <div class = "legend" style = "float: right"> Red </div>
           <div class="color-box" style="background-color: red;"></div>
       </div>
     </br>
   </div>

 </div>


<script>
var userData;
$(document).ready(function() {
    $('select').material_select();
	});

  $("#submit").on("click", function(event){
    // check if all the fields are filled
    event.preventDefault();

  	function validateForm() {
		  var isValid = true;

		  $('.input-field inline').each(function() {
		  	//console.log($(this).val());
		    if ( $(this).val() === '' )
	        isValid = false;
			  	console.log("text not filled");
		  });
		  return isValid;
		}


		if (validateForm()) {
    	 userData = {
    		fridgenum: $("#fridgenum").val().trim(),
        stovenum: $("#stovenum").val().trim(),
        cooknum: $("#cooknum").val().trim(),
        cooktime: $("#cooktime").val().trim(),
        ovennum: $("#ovennum").val().trim(),
    	};

      //
      // $.post("/api/data", userData, function(data){
      //   //  convert the energy
    	// 	$("#redblock").text("3");
    	// 	$('#whiteblock').text("4");
      //
	    //   $("#modal1").openModal();
    	// });
      console.log(userData.fridgenum);

      $(document).on("click", "#submit", function (userData) {
        // $("#redblock").text(userData.fridgenum);
        // $('#whiteblock').append(userData.fuel);
         $("#modal1").openModal();





});

      var form = document.getElementById("myForm");
      form.reset();
		}

    else {
			alert("Please fill out the empty field!");
		}

  });
</script>
</body>
</html>
